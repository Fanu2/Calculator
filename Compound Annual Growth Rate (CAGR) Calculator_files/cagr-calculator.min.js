let bridgeEvntParam={page_screen_name:"cagr_calculator_webview",display_name:"CAGR Calculator"};function debounceWithContext(e,a=300){let n;return function(...t){clearTimeout(n),n=setTimeout(()=>{e.apply(this,t)},a)}}for(var valueRangeSlider=$('input.input-slider[type="range"]'),el=0;el<valueRangeSlider.length;el++){var valueSlider=($(valueRangeSlider[el]).attr("value")-$(valueRangeSlider[el]).attr("min"))/($(valueRangeSlider[el]).attr("max")-$(valueRangeSlider[el]).attr("min"));$(valueRangeSlider[el]).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+valueSlider+", #00B852), color-stop("+valueSlider+", #eaeaea))")}$(".calci-input-ctrl input").on("input",function(){var t=+$(this.closest(".form-group")).find(".maxLimit").text()||1e8,t=($(this).val($(this).val().replace(/[^0-9]/g,"")),+this.value>t&&this.value.length&&(this.value=this.value.substring(0,this.value.length-1)),this.value),e=$(this.closest(".form-group")).find('input[type="range"]'),t=(e.val(t),(e.val()-e.attr("min"))/(e.attr("max")-e.attr("min")));this.value||(t=0),e.css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+t+", #00B852), color-stop("+t+", #eaeaea))"),""==$(this).val().length&&e.val("0")}),$('input.input-period[type="range"]').on("input",debounceWithContext(function(t){var e=+$(this.closest(".form-group")).find(".maxLimit").text(),e=(e&&+this.value>e&&(this.value=e),($(this).val()-$(this).attr("min"))/($(this).attr("max")-$(this).attr("min")));this.value||(e=0),$(this).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+e+", #00B852), color-stop("+e+", #eaeaea))"),updateOutput()})),$('input.input-period[type="range"]').on("input",function(t){var e=+$(this.closest(".form-group")).find(".maxLimit").text(),e=(e&&+this.value>e&&(this.value=e),($(this).val()-$(this).attr("min"))/($(this).attr("max")-$(this).attr("min"))),a=(this.value||(e=0),this.value),n=$(this).parents().eq(1).prev().find('input[type="number"]');n.val(convertToLacsAndCrores(a)),n.attr("data-value",commaSeparatorCurrency(a)),$(this).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+e+", #00B852), color-stop("+e+", #eaeaea))")}),$(".calci-num-ctrl input").on("input",function(){var t=+$(this.closest(".form-group")).find(".maxLimit").text()||99,t=($(this).val($(this).val().replace(/[^0-9]/g,"")),+this.value>t&&this.value.length&&(this.value=this.value.substring(0,this.value.length-1)),this.value),e=$(this.closest(".form-group")).find('input[type="range"]'),t=(e.val(t),(e.val()-e.attr("min"))/(e.attr("max")-e.attr("min")));this.value||(t=0),e.css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+t+", #00B852), color-stop("+t+", #eaeaea))"),""==$(this).val().length&&e.val("0")}),document.querySelectorAll('input.input-amount[type="range"]').forEach(function(t){t.addEventListener("input",function(t){"function"==typeof generateAmountLabels&&generateAmountLabels(),"function"==typeof SIPgenerateAmountLabels&&SIPgenerateAmountLabels();var e=+t.target.value.replace(/[^0-9]/g,"");e?$(t.target).parents(".form-group").find(".calci-amount").html(capitalizeFirstLetter(valueInWords(e))+" only"):$(t.target).parents(".form-group").find(".calci-amount").html("")})}),window.addEventListener("load",windowLoadCallback);var domElem,chart,type="investmentDetails",period=5,tenure=5,principal=2e6,selectedPeriod="Yearly",compoundAmount=5e6,gainAmount=3e5,compoundInterval=1,additionalYear=0,primaryCategory="EQUITY",displayType="Form",absoluteReturn=150,cagrReturn=20.11244339814313;function windowLoadCallback(){window.innerWidth<991&&($(".calculation-content").hide(),$(".calculation-content").removeClass("hidden-xs")),domElem={amountElem:document.querySelector('input[name="invAmount"]'),TimePeriod:document.querySelector('input[name="period"]'),finalAmount:document.querySelector('input[name="finalAmount"]'),invesdtedAmount:document.querySelector("#invesdtedAmount span"),gainAmount:document.querySelector("#gainAmount span"),annualReturnVal:document.querySelector("#annualReturnVal span"),absoluteReturnVal:document.querySelector("#absoluteReturnVal span"),graphBody:document.querySelector(".graphic-body"),yearProp:document.querySelector(".input-prop.year"),gainElem:document.querySelector(".main-body #second-label"),returnHeading:document.querySelector(".main-body #third-label"),leftLabel:document.querySelector(".graphic-body .left-up-arrow"),rightLabel:document.querySelector(".graphic-body .right-up-arrow")},DrawChart(),document.querySelector(".ReturnCalculate").addEventListener("click",function(t){allInputvalid()&&(domElem.invesdtedAmount.setAttribute("data-prevalue",Math.round(principal/3)),domElem.gainAmount.setAttribute("data-prevalue",Math.round(compoundAmount-principal/3)),domElem.annualReturnVal.setAttribute("data-prevalue",Math.round(cagrReturn/3)),domElem.absoluteReturnVal.setAttribute("data-prevalue",Math.round(absoluteReturn/3)),updateOutput(),displayType="Output",window.outerWidth<991&&$(".cal-tax-exemption").hide(),window.outerWidth<991&&$(".sec-calculator .top-heading").hide(),window.outerWidth<991&&$(".calculation-content").show(),window.outerWidth<991)&&$("html, body").animate({scrollTop:0},500),trackCustomGa4Event("CTA click",{click_text:t.target.innerText,...bridgeEvntParam},!0)}),document.getElementById("edit_details").addEventListener("click",function(t){$(".sec-calculator .top-heading").show(),$(".cal-tax-exemption").show(),$(".calculation-content").hide(),$("html, body").animate({scrollTop:0},500),displayType="Form"}),$(".switch-time li").click(function(t){t.currentTarget.classList.contains("active")||($(".switch-time li").removeClass("active"),t.currentTarget.classList.add("active"),domElem.returnHeading.innerText=t.currentTarget.dataset.name,domElem.absoluteReturnVal.parentElement.classList.toggle("hide"),domElem.annualReturnVal.parentElement.classList.toggle("hide"),updateChart(),trackCustomGa4Event("toggle",{click_text:t.target.innerText}))}),$(".add-table table td a").on("click",function(t){trackCustomGa4Event("fund name click",{click_text:t.target.innerText,click_link:t.target.href})}),$('.add-table table td span[title="Invest"], .add-table table td span[title="Invest on App"]').on("click",function(t){var e=$(this).attr("data-url");trackCustomGa4Event("CTA click",{click_text:t.target.innerText,click_link:e,...bridgeEvntParam},!0)}),$(".gns-growth-links").on("click",function(){var t=$(this).children(".know-more-txt").text();trackCustomGa4Event("CTA click",{click_text:t,click_link:this.href,...bridgeEvntParam},!0)}),$("#invest_nps").on("click",function(t){trackCustomGa4Event("CTA click",{click_text:t.target.innerText,click_link:t.target.href,...bridgeEvntParam},!0)}),$(".bottom-invest-section .editbtn").on("click",function(){$("html, body").animate({scrollTop:0},300),trackCustomGa4Event("CTA click",{click_text:this.innerText,...bridgeEvntParam},!0)}),$(".cta-row a.invest-button").on("click",function(t){trackCustomGa4Event("CTA click",{click_text:t.target.innerText,click_link:t.target.href,...bridgeEvntParam},!0)}),bridgeWebViewEvents("screen_view",{...bridgeEvntParam}),$(".bottom-invest-section .editbtn").on("click",function(){$("html, body").animate({scrollTop:0},300)})}function updateOutput(t){var e;allInputvalid()&&(principal=parseInt(domElem.amountElem.dataset.value.replace(/[^0-9]/g,"")),compoundAmount=parseInt(domElem.finalAmount.dataset.value.replace(/[^0-9]/g,"")),period=domElem.TimePeriod.value,gainAmount=(compoundAmount-principal).toFixed(),absoluteReturn=+(e=(absoluteReturn=(gainAmount/principal*100).toFixed(2)+"").split(".")[1])[1]?Number(absoluteReturn):+e[0]?Number(absoluteReturn).toFixed(1):Number(absoluteReturn).toFixed(),cagrReturn=100*(Math.pow(compoundAmount/principal,1/period)-1),domElem.invesdtedAmount.innerText=convertToLacsAndCrores(principal),DrawChart(),cagrReturn=cagrReturn.toFixed(2),domElem.gainElem.innerText=gainAmount<0?"Loss":"Gains","function"==typeof animateOutput?(domElem.gainAmount.setAttribute("data-value",gainAmount),domElem.gainAmount.classList.add("count"),domElem.invesdtedAmount.setAttribute("data-value",principal),domElem.invesdtedAmount.classList.add("count"),domElem.absoluteReturnVal.innerText=absoluteReturn,domElem.annualReturnVal.innerText=cagrReturn,animateOutput(300)):(domElem.gainAmount.innerText=convertToLacsAndCrores(gainAmount),domElem.absoluteReturnVal.innerText=absoluteReturn,domElem.annualReturnVal.innerText=cagrReturn,domElem.invesdtedAmount.innerText=convertToLacsAndCrores(principal)))}function kFormatter(t){return 1e4<=Math.abs(t)?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t)}function calculateMaturityAmount(t){var e=cagrReturn/100,a=($(".extraInvAmt").html(convertToLacsAndCrores(principal)),principal*Math.pow(1+e,+tenure)),e=2*principal*Math.pow(1+e,+tenure);return $(".extraInvFuture").html(convertToLacsAndCrores(Math.ceil(e)-a)),a}function DrawChart(){updateChart()}function DrawBarChart(){var t,e=[];for(let t=0;t<tenure;t++)e.push(t+1+"Y");var a,n=[],r=[],i=cagrReturn/100;for(a of e){a=+a.replace(/[^0-9.]/g,""),r.push(principal);var o=principal*Math.pow(1+i,+a)-principal;n.push(o.toFixed())}var l=document.getElementById("gainChart").getContext("2d"),u=compoundAmount,u=(u&&(t=(t=Math.round(u/3)+"")[0]*Math.pow(10,t.length-1)),{labels:e,datasets:[{label:"Total invested",data:r,backgroundColor:"#DDDDDD"},{label:"Gains",data:n,backgroundColor:"#6880C8"}]});chart=new Chart(l,{type:"bar",data:u,options:{legend:{display:!1},plugins:{title:{display:!0,text:"Chart.js Bar Chart - Stacked"}},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t,e){return(parseInt(t.yLabel)==principal?"Total invested: ":"Gains: ")+"₹"+commaSeparatorCurrency(t.yLabel)}}},responsive:!0,maintainAspectRatio:!1,layout:{padding:{right:25,top:30}},scales:{xAxes:[{stacked:!0,gridLines:{display:!1}}],yAxes:[{stacked:!0,gridLines:{display:!1},ticks:{stepSize:t||5e3,callback:function(t,e,a){return convertToLacsAndCrores(t,!0)}}}]},animation:{onComplete:function(){var e=this.chart,r=e.ctx,i=(r.textAlign="center",r.textBaseline="bottom",this.data.datasets.length);this.data.datasets.forEach(function(a,t){var n=e.controller.getDatasetMeta(t);i==t+1&&n.data.forEach(function(t,e){0<a.data[e]&&n.data.length==e+1&&(e="₹"+convertToLacsAndCrores(compoundAmount),r.font="bold 14px 'proxima-nova-bold'",r.fillStyle="#4c4c4c",e=e.replace(/acs/g,"").replace(/Crs/g,"Cr"),r.fillText(e,t._model.x,t._model.y-10))})})}}}})}function updateChart(){tenure=domElem.TimePeriod.value,$(".error-msg").is(":visible")?outputContainer&&outputContainer.classList.add("overlay"):(outputContainer&&(outputContainer.classList.remove("overlay"),calculateBtn.classList.remove("cta-primary")),chart&&chart.destroy&&chart.destroy(),gainAmount=parseInt(gainAmount),domElem.rightLabel.classList.add("hide"),domElem.leftLabel.classList.add("hide"),("CAGR Returns"==document.querySelector(".switch-time li.active").dataset.name?($(".pie-chart").addClass("hide"),$(".bar-chart").removeClass("hide"),DrawBarChart):($(".bar-chart").addClass("hide"),$(".pie-chart").removeClass("hide"),DrawPieChart))())}function DrawPieChart(t){var e=document.getElementById("gainPieChart").getContext("2d"),a=Math.abs(gainAmount);chart=new Chart(e,{type:"doughnut",data:{labels:[0<gainAmount?"Gains":"Loss","Total Invested"],datasets:[{backgroundColor:["#6880C8","#D4DFF7"],data:t||[a,principal],hoverBackgroundColor:["#6880C8","#D4DFF7"],weight:.5}]},options:{segmentShowStroke:!1,aspectRatio:2,responsive:!0,cutoutPercentage:60,legend:{display:!1,position:"bottom",labels:{boxWidth:6},usePointStyle:!0}}}),setTimeout(function(){domElem.graphBody.classList.remove("img-loader"),70<a/(principal+a)*360&&domElem.rightLabel.classList.remove("hide"),70<principal/(principal+a)*360&&domElem.leftLabel.classList.remove("hide")},200)}document.querySelector("input[name='period']").addEventListener("input",function(t){var e,a,n=t.target.value.replace(/[^0-9.]/g,"");n&&(removeError(t.target),e=(n+"").split(".")[1],n=+((a=2<+(a=(n+"").split(".")[0]).length?a.substr(0,2):a)+(e?"."+e:"")),t.target.value=e?n.toFixed(1):n,tenure=e?n.toFixed(1):n,domElem.yearProp.style.left=10+12*t.target.value.length+"px",n)?updateOutput():(outputContainer.classList.add("overlay"),calculateBtn.classList.add("cta-primary"))}),document.querySelectorAll("input[type='number'], input[name='period']").forEach(function(e){e.addEventListener("blur",function(t){"period"==e.name&&(e.value?+e.value<=0&&showError(e,"Please enter valid period"):showError(e,"This field is required")),updateOutput()})});